(function(t){function s(s){for(var e,r,n=s[0],l=s[1],c=s[2],m=0,u=[];m<n.length;m++)r=n[m],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);d&&d(s);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,s=0;s<i.length;s++){for(var a=i[s],e=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(e=!1)}e&&(i.splice(s--,1),t=r(r.s=a[0]))}return t}var e={},o={app:0},i=[];function r(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,s,a){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)r.d(a,e,function(s){return t[s]}.bind(null,e));return a},r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=s,n=n.slice();for(var c=0;c<n.length;c++)s(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,s,a){t.exports=a("56d7")},"523d":function(t,s,a){"use strict";var e=a("e2f5"),o=a.n(e);o.a},"56d7":function(t,s,a){"use strict";a.r(s);var e=a("2b0e"),o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("navbar"),t._v(" "),a("div",{staticClass:"spacing"}),t._v(" "),a("router-view")],1)},i=[],r=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("Kanban")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"boards"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"boards"}}},[t._v("My-Dashboard")])],1):t._e()]),t._v(" "),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("bc3a"),c=a.n(l);c.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}}},m=d,u=a("2877"),p=Object(u["a"])(m,r,n,!1,null,null,null),v=p.exports,h=a("335d"),b={name:"App",async beforeCreate(){try{await Object(h["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:v}},g=b,f=(a("5c0b"),Object(u["a"])(g,o,i,!1,null,null,null)),_=f.exports,k=a("8c4f"),w=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"home mt-5"},[a("h1",[t._v("This is your home page.")])])}],C=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"QuickModal"},[a("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid",attrs:{name:"lists"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-11"},[t._t("title")],2),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"row"},[t._t("listBody"),t._v(" "),t._t("taskDescription"),t._v(" "),t._t("taskBody"),t._v(" "),t._t("default"),t._v(" "),t._t("commentsForm")],2)])])])])])])},B=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-1"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}],D={name:"QuickModal",data(){return{}},props:["id"],computed:{},methods:{},components:{}},x=D,T=Object(u["a"])(x,C,B,!1,null,"c68d26e4",null),I=T.exports,j={name:"home",data(){return{}},computed:{},methods:{},components:{QuickModal:I}},F=j,O=Object(u["a"])(F,w,y,!1,null,"26ce9ff5",null),E=O.exports,P=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"boards mt-5"},[t._v("\n  WELCOME TO THE BOARDS!!!\n  "),a("form",{on:{submit:function(s){return s.preventDefault(),t.addBoard(s)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(s){s.target.composing||t.$set(t.newBoard,"title",s.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(s){s.target.composing||t.$set(t.newBoard,"description",s.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("Create Board")])]),t._v(" "),t._l(t.boards,(function(s){return a("div",{key:s.id},[a("router-link",{attrs:{to:{name:"board",params:{boardId:s.id}}}},[t._v(t._s(s.title))])],1)}))],2)},L=[],M={name:"boards",mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}}}},A=M,N=Object(u["a"])(A,P,L,!1,null,null,null),S=N.exports,U=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"board container-fluid"},[a("div",{staticClass:"m-5"},[t.board.title?a("h1",[t._v(t._s(t.board.title))]):a("h1",[t._v("Loading...")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex overflow-page"},t._l(t.listsData,(function(t){return a("Lists",{key:t.id,attrs:{listData:t}})})))]),t._v(" "),a("div",[a("quickModal",{key:1,attrs:{id:"one"}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.board.title))]),t._v(" "),a("div",{attrs:{slot:"listBody"},slot:"listBody"},[a("form",{on:{submit:function(s){return s.preventDefault(),t.addList(s)}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("List Name")])]),t._v(" "),a("div",{staticClass:"col-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{slot:"inputForm",type:"text",placeholder:""},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}},slot:"inputForm"})]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-sm btn-outline-success",attrs:{slot:"inputButton"},slot:"inputButton"},[t._v("submit")])])])])])])])],1)])},Q=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mt-5"},[a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button","data-toggle":"modal","data-target":"#one"}},[t._v("Modal 1")])])}],q=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"lists minw border border-black my-4 mx-2 px-0"},[a("h3",{staticClass:"bg-success mx-0 px-2 text-nowrap"},[t._v("\n    "+t._s(t.listData.title)+"\n    "),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(s){t.showTaskForm=!t.showTaskForm}}},[t._v("+")])]),t._v(" "),t.showTaskForm?a("div",[a("div",{staticClass:"form-group"},[a("form",{on:{submit:function(s){return s.preventDefault(),t.addTask(s)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.titleData,expression:"titleData"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Add Task..."},domProps:{value:t.titleData},on:{input:function(s){s.target.composing||(t.titleData=s.target.value)}}})])])]):t._e(),t._v(" "),t._l(t.tasksData,(function(t){return a("tasks",{key:t.id,attrs:{taskData:t}})}))],2)},R=[],W=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tasks border border-black"},[a("div",{attrs:{"data-toggle":"modal","data-target":"#task-"+t.taskData.id}},[a("h1",[t._v(t._s(t.taskData.title))])]),t._v(" "),a("p",[t._v("comments: "+t._s(t.taskData.comments.length))]),t._v(" "),a("QuickModal",{key:"key-"+t.taskData.id,attrs:{id:"task-"+t.taskData.id}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.taskData.title))]),t._v(" "),a("div",{attrs:{slot:"taskDescription"},slot:"taskDescription"},[0==t.showDescriptForm?a("div",[a("div",{staticClass:"row"},[a("div",[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskBody,expression:"taskBody"}],staticClass:"col-10",on:{click:t.switchShow}},[t._v(t._s(t.taskBody))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.taskBody,expression:"!taskBody"}],staticClass:"col-10",on:{click:t.switchShow}},[t._v("Please insert a description...")]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(s){t.showDescriptForm=!t.showDescriptForm}}},[t._v("Edit")])])])])])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[t.showDescriptForm?a("div",[a("div",{staticClass:"form-group"},[a("form",{on:{submit:function(s){return s.preventDefault(),t.putTaskDescription(s)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskBody,expression:"taskBody"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Write a description here"},domProps:{value:t.taskBody},on:{input:function(s){s.target.composing||(t.taskBody=s.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.switchShow}},[t._v("save")])])])]):t._e()]),t._v(" "),a("div",{attrs:{slot:"taskBody"},slot:"taskBody"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""},on:{click:function(s){t.toggleAddComment=!t.toggleAddComment}}},[t._v("Add a Comment")])]),t._v(" "),t.toggleAddComment?a("div",[a("div",{staticClass:"col-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentBody,expression:"commentBody"}],staticClass:"form-control",attrs:{slot:"inputForm",type:"text",placeholder:""},domProps:{value:t.commentBody},on:{input:function(s){s.target.composing||(t.commentBody=s.target.value)}},slot:"inputForm"})]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-sm btn-outline-success",attrs:{slot:"inputButton"},on:{click:t.addComment},slot:"inputButton"},[t._v("submit")])])]):t._e()])])]),t._v(" "),a("div",{staticClass:"row",attrs:{slot:"commentsDisplay"},slot:"commentsDisplay"},t._l(t.taskData.comments,(function(s){return a("Comments",{key:s._id,attrs:{taskId:t.taskData.id,commentData:s}})})))])])],1)},J=[],z=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"comments col-12"},[a("h5",[t._v("By: "+t._s(t.commentData.creatorEmail))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleComment,expression:"toggleComment"}],on:{click:t.switchShow}},[a("p",[t._v(t._s(t.commentBody))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleForm,expression:"toggleForm"}],staticClass:"form-group"},[a("form",{on:{submit:function(s){return s.preventDefault(),t.editComment(s)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentBody,expression:"commentBody"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.commentBody},on:{input:function(s){s.target.composing||(t.commentBody=s.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.switchShow}},[t._v("save")])])])])},H=[],K={name:"comments",data(){return{toggleComment:!0,toggleForm:!1,commentBody:this.commentData.body}},props:["commentData","taskId"],computed:{},methods:{switchShow(){this.toggleComment=!this.toggleComment,this.toggleForm=!this.toggleForm},editComment(){let t={commentId:this.commentData._id,body:this.commentBody,taskId:this.taskId};this.$store.dispatch("editComment",t)}},components:{}},X=K,Y=Object(u["a"])(X,z,H,!1,null,"4e98b31a",null),G=Y.exports,V={name:"tasks",data(){return{showDescriptForm:!1,showDescription:!0,toggleAddComment:!1,commentBody:"",taskBody:this.taskData.body}},props:["taskData"],computed:{tasks(){return this.$store.state.tasks}},methods:{putTaskDescription(){let t={body:this.taskBody,taskId:this.taskData.id};this.$store.dispatch("editTaskDescription",t)},switchShow(){this.showDescription=!this.showDescription,this.showDescriptForm=!this.showDescriptForm},addComment(){let t={body:this.commentBody,taskId:this.taskData.id};this.$store.dispatch("addComment",t),this.commentBody="",toggleAddComment=!1}},components:{QuickModal:I,Comments:G}},Z=V,tt=Object(u["a"])(Z,W,J,!1,null,"069c26f1",null),st=tt.exports,at={name:"lists",data(){return{showTaskForm:!1,titleData:""}},props:["listData"],mounted(){this.$store.dispatch("getTasks",this.listData.id)},computed:{lists(){return this.$store.state.lists},tasksData(){return this.$store.state.tasks[this.listData.id]}},methods:{addTask(){let t={title:this.titleData,listId:this.listData.id};this.$store.dispatch("addTask",t),this.titleData="",this.showTaskForm=!this.showTaskForm}},components:{tasks:st}},et=at,ot=(a("523d"),Object(u["a"])(et,q,R,!1,null,"02c5e692",null)),it=ot.exports,rt={name:"board",data(){return{title:""}},mounted(){console.log(this.$route.params.boardId),this.$store.dispatch("getActiveBoard",this.$route.params.boardId),this.$store.dispatch("getLists",this.$route.params.boardId)},methods:{addList(){$("#one").modal("hide"),this.$store.dispatch("addList",{title:this.title,boardId:this.$route.params.boardId}),this.title=""}},computed:{board(){return this.$store.state.activeBoard},listsData(){return this.$store.state.lists},listsData(){return this.$store.state.lists[this.$route.params.boardId]}},components:{quickModal:I,Lists:it},props:["boardId"]},nt=rt,lt=Object(u["a"])(nt,U,Q,!1,null,null,null),ct=lt.exports;e["a"].use(k["a"]);var dt=new k["a"]({routes:[{path:"/",name:"home",component:E},{path:"/boards",name:"boards",component:S,beforeEnter:h["b"]},{path:"/boards/:boardId",name:"board",component:ct},{path:"*",redirect:"/"}]}),mt=a("2f62");let ut=window.location.host.includes("localhost")?"//localhost:3000/":"/";const pt=c.a.create({baseURL:ut+"api/",timeout:3e3,withCredentials:!0});var vt=pt,ht={state:{},mutations:{},actions:{getBoards({commit:t,dispatch:s}){vt.get("boards").then(s=>{console.log(s),t("setBoards",s.data)})},getActiveBoard({commit:t,dispatch:s},a){vt.get("boards/"+a).then(s=>{console.log(s.data),t("setActiveBoard",s.data)}).catch(t=>{console.error(t)})},addBoard({commit:t,dispatch:s},a){vt.post("boards",a).then(t=>{s("getBoards")})}}},bt={state:{},mutations:{},actions:{getLists({commit:t,dispatch:s},a){vt.get("boards/"+a+"/lists").then(s=>{console.log(s);let e={boardId:a,lists:s.data};t("setLists",e)})},async addList({commit:t,dispatch:s},a){try{let t=await vt.post("lists/"+a.boardId,a);console.log(t.data),s("getLists",a.boardId)}catch(e){console.error(e)}}}},gt={state:{},mutations:{},actions:{getTasks({commit:t,dispatch:s},a){vt.get("lists/"+a+"/tasks").then(s=>{console.log(s);let e={listId:a,tasks:s.data};t("setTasks",e)})},async addTask({commit:t,dispatch:s},a){try{let t=await vt.post("tasks/",a);console.log(t.data),s("getTasks",a.listId)}catch(e){console.error(e)}},async editTaskDescription({commit:t,dispatch:s},a){try{let t=await vt.put("tasks/"+a.taskId,a);console.log(t)}catch(e){console.error(e)}},async addComment({commit:t,dispatch:s},a){try{let s=await vt.post("tasks/"+a.taskId+"/comments",a);console.log(s);let e={listId:s.data.listId,newTask:[s.data]};t("setComments",e)}catch(e){console.error(e)}},async editComment({commit:t,dispatch:s},a){try{let t=await vt.post("tasks/"+a.taskId+"/comments/"+a.commentId,a);console.log(t)}catch(e){console.error(e)}}}};e["a"].use(mt["a"]);window.location.host.includes("localhost");var ft=new mt["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:{},tasks:{}},mutations:{setUser(t,s){t.user=s},setBoards(t,s){t.boards=s},setActiveBoard(t,s){t.activeBoard=s},setLists(t,s){e["a"].set(t.lists,s.boardId,s.lists)},setTasks(t,s){e["a"].set(t.tasks,s.listId,s.tasks)},setComments(t,s){e["a"].set(t.tasks,s.listId,s.newTask)}},actions:{setBearer({},t){vt.defaults.headers.authorization=t},resetBearer(){vt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let s=await vt.get("/profile");t("setUser",s.data)}catch(s){console.error(s)}}},modules:{BoardModule:ht,ListModule:bt,TaskModule:gt}});const _t="dev-xx4s5j83.us.auth0.com",kt="https://kanbanapi.com",wt="vWXFjj90Dgdb7TujqjE6sunUr6dQihYJ";a("5886"),a("3d20"),a("4413");e["a"].use(h["a"],{domain:_t,clientId:wt,audience:kt,onRedirectCallback:t=>{dt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new e["a"]({router:dt,store:ft,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,s,a){"use strict";var e=a("9c0c"),o=a.n(e);o.a},"9c0c":function(t,s,a){},e2f5:function(t,s,a){}});